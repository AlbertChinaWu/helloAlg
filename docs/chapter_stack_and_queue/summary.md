# 小结

- 栈是一种遵循先入后出原则的数据结构，可通过数组或链表来实现。
- 从时间效率角度看，栈的数组实现具有较高的平均效率，但在扩容过程中，单次入栈操作的时间复杂度会降低至 $O(n)$ 。相比之下，基于链表实现的栈具有更为稳定的效率表现。
- 在空间效率方面，栈的数组实现可能导致一定程度的空间浪费。但需要注意的是，链表节点所占用的内存空间比数组元素更大。
- 队列是一种遵循先入先出原则的数据结构，同样可以通过数组或链表来实现。在时间效率和空间效率的对比上，队列的结论与前述栈的结论相似。
- 双向队列是一种具有更高自由度的队列，它允许在两端进行元素的添加和删除操作。

!!! note "`Java``Queue`类知识点"
    
    |              | 抛出异常         | 返回特殊值  |
    | ------------ |--------------|--------|
    | 插入           | add(e)       | offer(e) |
    | 删除           | remove()     | poll() |
    | 查看队头元素     | element()    | peek() |

    队列除了基本的 Collection 操作外，还提供特有的插入、提取和检查操作(如上)。每个方法都存在两种形式：一种抛出异常（操作失败时），另一种返回一个特殊值（null 或 false，具体取决于操作）。
    除非有容量限制，否则在大多数实现中，插入操作不会失败。

## Q & A

!!! question "浏览器的前进后退是否是双向链表实现？"

    `浏览器的前进后退功能是通过$栈$来实现的。当用户访问一个新页面时，该页面会被添加到栈顶；当用户点击后退按钮时，该页面会从栈顶弹出，然后被添加到栈底。`
    
    使用双向队列是因为方便实现一些额外操作，这个在双向队列章节有提到。

!!! question "函数调用栈是否能称作内存管理？我理解的内存管理指的内存空间的分配和释放。"

    `函数调用栈是一种内存管理的方式，它用于存储函数调用时的临时变量。当函数调用结束后，这些临时变量会被自动释放。`
    内存管理是一个比较宽泛的概念。在函数调用栈中，系统利用栈实现了合理的“内存空间的分配和释放”。

!!! question "`pop`出栈后是否需要释放内存？"

    在`C`和`C++`中最好手动释放内存，因为这两种语言不会自动回收内存。在`Java`和`Python`中，内存的回收是由垃圾回收器自动完成的，因此不需要手动释放内存。
    ```C
    /* 出栈 */
    int pop() {
        int num = top();
        ListNode *tmp = stackTop;
        stackTop = stackTop->next;
        // 释放内存
        delete tmp;
        stkSize--;
        return num;
    }
    ```

!!! question "双向队列更像是两个栈拼接在了一起，它的具体操作体现在哪呢"

    双向队列就像是栈和队列的组合，或者是两个栈拼在了一起；它表现的是栈 + 队列的逻辑，因此可以实现栈与队列的所有应用，并且更加灵活。